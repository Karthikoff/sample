<div class="loader-container w-100" *ngIf="isLoading">
  <app-loader-spinner></app-loader-spinner>
</div>
<div class="main-container" *ngIf="!isLoading">
  
  
  <div class="products-container">
    <div class="sidebar-container p-4">
      <div class="searchbar-container">
        <h1 style="color: rgb(0, 0, 0); font-size: 25px; font-weight: bold;" class="mb-2">Filters</h1>
        <div class="input-group mb-3">
          <input type="text" class="form-control p-2" [(ngModel)]="searchInput" placeholder="Search" aria-label="Search"
            aria-describedby="basic-addon2">
          <div class="input-group-append">
            <button class="btn btn-search" type="button"><i class="fa fa-search"></i></button>
          </div>
        </div>
      </div>
      
      <div class="category-filter-container">
        <h1 style="color: rgb(0, 0, 0); font-size: 20px; font-weight: bold;" >Category</h1>
      <div class="d-flex" style="gap: 20px; margin-top: 20px;">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="fruits" id="fruits" [(ngModel)]="fruitsSelected"
            (change)="filterItems()">
          <label class="form-check-label" for="fruits" >
            Fruits
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="vegitables" id="vegitables" [(ngModel)]="vegitablesSelected"
            (change)="filterItems()">
          <label class="form-check-label" for="vegitables">
            Vegetables
          </label>
        </div>
        
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="dairy" id="dairy" [(ngModel)]="dairySelected"
            (change)="filterItems()">
          <label class="form-check-label" for="dairy">
            Dairy
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="meat" id="meat" [(ngModel)]="meatSelected"
            (change)="filterItems()">
          <label class="form-check-label" for="meat" >
            Meat
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="bakery" id="bakery" [(ngModel)]="bakerySelected"
            (change)="filterItems()">
          <label class="form-check-label" for="bakery" >
            Bakery
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="beverages" id="beverages" [(ngModel)]="beveragesSelected"
            (change)="filterItems()">
          <label class="form-check-label" for="beverages" >
            Beverages
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="others" id="others" [(ngModel)]="othersSelected"
            (change)="filterItems()">
          <label class="form-check-label" for="others">
            Others
          </label>
        </div>
      </div>
      </div>
    </div>
    


    <div class="body-container bg-light">
      <h1 style="color: rgb(0, 0, 0); font-size: 25px; font-weight: bold;" class="mb-4">Products</h1>
      <ul class="products-list-container">
          <li class="card mb-4 p-2" style="background-color: #ffffff;" *ngFor="let product of filterItems()">
              <img class="card-img-top" src="{{product.image}}" alt="{{product.name}}" style="cursor: pointer;"
                  routerLink="/product-details/{{product._id}}">
              <div class="card-bod p-2">
                  <h4 class="card-title m-0 text-dark">{{product.productname}}</h4>
                  <p class="card-text m-0 description" style="font-size: 14px; color: #dc143c;">{{product.description}}</p>
                  <div class="d-flex align-items-center justify-content-between">
                      <p class="card-text mt-0 text-dark">price: {{product.price}}/kg/l/g</p>
                      <div class="rating-background">
                          <p>{{product.rating}}</p>
                          <p><i class="fas fa-star"></i></p>
                      </div>
                  </div>
                  <div class="btn-group">
                      <button (click)="onAddToCart(product._id)" class="btn btn-add-to-cart">Add <i class="fas fa-shopping-bag"></i></button>
                      <button routerLink="/place-order/{{product._id}}" class="btn btn-buy-now">Buy Now</button>
                  </div>
              </div>
          </li>
      </ul>
  </div>
  
  </div>
</div>
